<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Dashboard</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #1a1a1a;
    color: #ffffff;
    padding: 20px;
}
h1 { color: #00aaff; }
a { color: #00aaff; text-decoration: none; margin-right: 10px; }
a:hover { text-decoration: underline; }
form { max-width: 400px; margin-bottom: 20px; display: flex; gap: 10px; justify-content: center; }
input { padding: 10px; border-radius: 5px; border: none; flex: 1; text-align: center; background-color: #3a3a3a; color: #ffffff; }
button { padding: 10px 15px; background-color: #00aaff; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
button:hover { background-color: #008ecc; }
.company-actions { display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 15px; }
.flash { color: #00aaff; margin-bottom: 15px; }
</style>
</head>
<body>
<h1>Admin Dashboard</h1>
<a href="{{ url_for('logout') }}">Logout</a>

<h2>Create Company</h2>
<form method="POST">
    {{ form.hidden_tag() }}
    {{ form.name(class_="company-input", placeholder="Company Name") }}
    {{ form.submit() }}
</form>

<h2>Companies</h2>
{% for company in companies %}
<div class="company-actions">
    <strong>{{ company.name }}</strong>
    <form method="POST" action="{{ url_for('delete_company', company_id=company.id) }}" style="display:inline;">
        <button type="submit">Delete</button>
    </form>
    <a href="{{ url_for('manage', company_id=company.id) }}"><button>Backend Management</button></a>
    <a href="{{ url_for('agent', company_name=company.name) }}"><button>Agent Assistant</button></a>
</div>
{% endfor %}

{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="flash">{{ message }}</div>
        {% endfor %}
    {% endif %}
{% endwith %}
</body>
</html>
